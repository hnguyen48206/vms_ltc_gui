{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/HoangN/Desktop/NW/LTC_GUI/base_ltc_clarity/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ignoreFocus as s, focusable as t, focusElement as o } from \"../utils/focus.js\";\nimport { listenForAttributeChange as i } from \"../utils/events.js\";\nimport { getFlattenedDOMTree as c } from \"../utils/traversal.js\";\nfunction h(s = {\n  fallback: \"focusable\"\n}) {\n  return t => t.addInitializer(t => new e(t, s));\n}\nclass e {\n  constructor(s, t = {\n    fallback: \"focusable\"\n  }) {\n    this.host = s, this.config = t, this.host.addController(this);\n  }\n  hostConnected() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.host.updateComplete, _this.observer = i(_this.host, \"hidden\", () => _this.cdsFocusFirst()), _this.cdsFocusFirst();\n    })();\n  }\n  hostDisconnected() {\n    var _this$observer;\n    (_this$observer = this.observer) === null || _this$observer === void 0 || _this$observer.disconnect();\n  }\n  cdsFocusFirst() {\n    if (!s(this.host)) {\n      var _s$querySelector, _ref;\n      const s = this.host.shadowRoot ? this.host.shadowRoot : this.host,\n        i = (_s$querySelector = s.querySelector(\".private-host\")) !== null && _s$querySelector !== void 0 ? _s$querySelector : this.host,\n        h = c(s).filter(s => !s.hasAttribute(\"cds-focus-boundary\")),\n        e = h.find(s => s.hasAttribute(\"cds-first-focus\")),\n        r = \"focusable\" === this.config.fallback ? h.find(s => t(s) && !s.classList.contains(\"private-host\")) : null,\n        a = \"none\" === this.config.fallback ? null : i,\n        n = (_ref = e !== null && e !== void 0 ? e : r) !== null && _ref !== void 0 ? _ref : a;\n      n && o(n);\n    }\n  }\n}\nexport { e as FirstFocusController, h as firstFocus };\n//# sourceMappingURL=first-focus.controller.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}