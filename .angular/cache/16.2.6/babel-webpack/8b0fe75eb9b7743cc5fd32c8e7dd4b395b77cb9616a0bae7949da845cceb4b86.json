{"ast":null,"code":"import { QueryList } from '@angular/core';\nimport { IvmsplayerComponent } from 'src/app/utilities/ivmsplayer/ivmsplayer.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction VideoComponent_ng_conatiner_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5, 6);\n    i0.ɵɵelement(2, \"app-ivmsplayer\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ivmsplayer_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"config\", ivmsplayer_r2);\n  }\n}\nfunction VideoComponent_ng_conatiner_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-conatiner\");\n    i0.ɵɵtemplate(1, VideoComponent_ng_conatiner_6_div_1_Template, 3, 1, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.playerConfig);\n  }\n}\nexport let VideoComponent = /*#__PURE__*/(() => {\n  var _class;\n  class VideoComponent {\n    constructor() {\n      this.currentValue = '';\n      this.showPlayers = false;\n      this.playerConfig = [{\n        url: 'https://s3.amazonaws.com/x265.org/video/Tractor_500kbps_x265.mp4',\n        videoID: 'canvas1',\n        isPlayback: true,\n        autoPlay: true,\n        autoRestart: false\n      }, {\n        url: 'rtsp://admin:12345q@z@ngabatanlap.cameraddns.net:1024/Streaming/Channels/01',\n        videoID: 'canvas2',\n        isPlayback: false,\n        autoPlay: false,\n        autoRestart: false\n      }];\n    }\n    ngOnInit() {}\n    /*\r\n    rtsp://admin:12345q@z@ngabatanlap.cameraddns.net:1024/Streaming/Channels/01,https://s3.amazonaws.com/x265.org/video/Tractor_500kbps_x265.mp4\r\n    */\n    setupPlayers() {\n      this.showPlayers = false;\n      let dataArray = this.currentValue.split(',');\n      console.log(dataArray);\n      this.playerConfig = [];\n      for (var i = 0; i < dataArray.length; i++) {\n        let config = {\n          url: '',\n          videoID: 'canvas' + i,\n          isPlayback: false,\n          autoPlay: false,\n          autoRestart: true\n        };\n        config.url = dataArray[i];\n        this.playerConfig.push(config);\n      }\n      console.log(this.playerConfig);\n      let self = this;\n      setTimeout(() => {\n        self.showPlayers = true;\n      }, 3000);\n      setTimeout(() => {\n        // self.checkReferences();\n      }, 5000);\n    }\n    checkReferences() {\n      console.log(this.playersList);\n      this.playersList.forEach(player => {\n        player.togglePlay();\n      });\n    }\n  }\n  _class = VideoComponent;\n  _class.ɵfac = function VideoComponent_Factory(t) {\n    return new (t || _class)();\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-video\"]],\n    viewQuery: function VideoComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(IvmsplayerComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.playersList = _t);\n      }\n    },\n    decls: 7,\n    vars: 2,\n    consts: [[1, \"example-form\"], [\"cdkTextareaAutosize\", \"\", \"cdkAutosizeMinRows\", \"5\", \"placeholder\", \"...\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [4, \"ngIf\"], [\"style\", \"padding-top: 20px;\", 4, \"ngFor\", \"ngForOf\"], [2, \"padding-top\", \"20px\"], [\"playerList\", \"\"], [3, \"config\"]],\n    template: function VideoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0)(1, \"p\");\n        i0.ɵɵtext(2, \"Nh\\u1EADp c\\u00E1c link c\\u1EA7n test theo th\\u1EE9 t\\u1EF1, c\\u00E1ch nhau b\\u1EB1ng d\\u1EA5u ,\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"textarea\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function VideoComponent_Template_textarea_ngModelChange_3_listener($event) {\n          return ctx.currentValue = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function VideoComponent_Template_button_click_4_listener() {\n          return ctx.setupPlayers();\n        });\n        i0.ɵɵtext(5, \"Load Players\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, VideoComponent_ng_conatiner_6_Template, 2, 1, \"ng-conatiner\", 3);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentValue);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showPlayers);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm]\n  });\n  return VideoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}